  <div id="Search", class="center row">
    <form name="test" method="post"  onsubmit="selectWords(off.value); return false;" >
      <input type="text" name="off" class="ntSaveForms" placeholder="Слово" size="40">
      <button type="submit" value="Отправить">Знайти</a></button>
    </form>
  </div>
  <div class = "center">
    <p></p>
    <button type="submit" class="btn add-word-btn btn-default" value="">Додати слово</button>
    <p></p>
  </div>

  <div id="map" >

  </div>
<script type="text/jscript">
let wor = 0
selectWords = data => {
  $.ajax({
    type: 'POST',
    url: '/pages/words_search',
    data: data,
    success: function(data) {
      console.log(data)
      wor = data
    },
    error: function(data) {
      console.log('error')
    }
  });
}

let map = L.map('map').setView([48.575, 35.508], 6);

L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
    maxZoom: 18,
    attribution: 'MapController data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
    '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
    'Imagery © <a href="http://mapbox.com">Mapbox</a>',
    id: 'mapbox.streets'
}).addTo(map);

 let css = ['A', 'B', 'C', 'D', 'E'];
   let dial = <?= $dialect_words?>;
       dial.forEach(function (dic, index, dial) {


   let markers = L.markerClusterGroup({
       maxClusterRadius: 120,
       iconCreateFunction: function (cluster) {
           let markers = cluster.getAllChildMarkers();
           let n = 0;
           for (let i = 0; i < markers.length; i++) {
               n += 1
           }

           let c = css[index-1];
           return new L.DivIcon({ html: '<div><span>' + n + '</span></div>', className: 'marker-cluster marker-cluster-' + c, iconSize: new L.Point(40, 40) });
       },
       //Disable all of the defaults:
       spiderfyOnMaxZoom: false, showCoverageOnHover: false, zoomToBoundsOnClick: true
   });
    index++;
console.log(index);

    let words = <?= $word ?>;



    words.forEach(function (word, i, words) {
        if(word.dialect_words == dic) {
            let title = word.dialect_words;

            let marker = L.marker(L.latLng(word.X, word.Y), {title: title});
            marker.bindPopup(title);
            markers.addLayer(marker);
        }
    });

    map.addLayer(markers);
   })
   
</script>
